$ = jQuery.noConflict();
(function($) {
$(document).ready(function(){
    $('.header__button-menu').click(function() {
        $('.menu').addClass('fade-active');
    });

    $('.header__button-close').click(function() {
      $('.menu').removeClass('fade-active');
    });


    $('#menu li > a').click(function() {
        $('.menu').removeClass('fade-active');
        $("a[href*='#']").mPageScroll2id();
    });

    $(window).scroll(function () {if ($(this).scrollTop() > 0) {$('#scroller').fadeIn();} else {$('#scroller').fadeOut();}});
    $('#scroller').click(function () {$('body,html').animate({scrollTop: 0}, 400); return false;});
    
    $(".menu__list > li > a[href*='#']").mPageScroll2id();

    $("input[type='tel'").mask("+380(99)-999-99-99", {placeholder:"+380(00)-000-00-00"});


    var typed = new Typed("#typing", {
        strings: ["", "<span class='red-text'>Хотите бесплатно</span> получить стратегию продвижения для вашего бизнеса? Оставьте заявку и наш эксперт по развитию с вами свяжется.", "<span class='red-text'>Хотите получить</span> анализ эффективности вашего сайта? Оставьте заявку.", "<span class='red-text'>Уже знаете что вам нужно?</span> Оставьте заявку и мы поговорим об этом."],
        typeSpeed: 70,
        startDelay: 1500,
        loop: true,
        loopCount: false, // число повторов, false = бесконечно
        showCursor: true, // отображение курсора
        attr: null, // атрибут
             
    });

    function countup(className){
		var countBlockTop = $("."+className).offset().top;
		var windowHeight = window.innerHeight;
		var show = true;
					
		$(window).scroll( function (){
			if(show && (countBlockTop < $(window).scrollTop() + windowHeight)){ 
				show = false;
						
				$('.'+className).spincrement({
					from: 1,
					duration: 6000,
				});
			}
		})	
	}
	
    $(function() {
		countup("count", $(".count").text());
        countup("count2", $(".count2").text());
        countup("count3", $(".count3").text());
		countup("count4", $(".count4").text());
    });

    $('.our-work-container__btn-container li a').click(function(e){
        var tab_id = $(this).attr('href');
        
        $('.our-work-container__btn-container li a').removeClass('active');
        $(this).addClass('active');
        
        
        $('.our-work-container__content').removeClass('active');
        $(tab_id).addClass('active');
    
        e.preventDefault();
    });

    $('.services-cards a').click(function(e){

        var tab_card_id = $(this).attr('href');
        
        $('.services-cards a').removeClass('active-card');
        $(this).addClass('active-card');
        
        
        $('.services div').removeClass('active-card');
        $(tab_card_id).addClass('active-card');
    
        e.preventDefault();
    });


    $('[data-fancybox="images"]').fancybox({
      afterLoad : function(instance, current) {
          var pixelRatio = window.devicePixelRatio || 1;
  
          if ( pixelRatio > 1.5 ) {
              current.width  = current.width  / pixelRatio;
              current.height = current.height / pixelRatio;
          }
      }
    });

    $('[data-fancybox]').fancybox({
      youtube : {
          controls : 1,
          showinfo : 1
      }
    });

    /* $('.roadmap_slider').slick({
      centerMode: true,
      centerPadding: '0px',
      dots: true,
      focusOnSelect: true,
      infinite: true,
      rows: 1,
      slidesToShow: 4,
      initialSlide: 2,
      responsive: [
          {
              breakpoint: 1920,
              settings: {
                  centerPadding: '100px'
              }
          },
          {
              breakpoint: 1200,
              settings: {
                  centerPadding: '250px',
                  slidesToShow: 1
              }
          },
          {
              breakpoint: 992,
              settings: {
                  arrows: true,
                  centerMode: true,
                  centerPadding: '150px',
                  slidesToShow: 1
              }
          },
          {
              breakpoint: 768,
              settings: {
                  arrows: false,
                  centerMode: true,
                  centerPadding: '80px',
                  slidesToShow: 1
              }
          },
          {
              breakpoint: 768,
              settings: {
                  centerPadding: '15px',
                  slidesToShow: 1
              }
          },
          {
              breakpoint: 480,
              settings: {
                  arrows: false,
                  centerMode: true,
                  centerPadding: '0px',
                  slidesToShow: 1
              }
          }
      ]
    }); */

    $('.roadmap_slider').slick({
        centerMode: true,
        centerPadding: '0px',
        dots: true,
        focusOnSelect: true,
        infinite: true,
        rows: 1,
        slidesToShow: 3,
        initialSlide: 2,
        responsive: [
            {
                breakpoint: 1920,
                settings: {
                    centerPadding: '0px'
                }
            },
            {
                breakpoint: 1200,
                settings: {
                    centerPadding: '0px',
                    slidesToShow: 3
                }
            },
            {
                breakpoint: 992,
                settings: {
                    arrows: true,
                    centerMode: true,
                    centerPadding: '0px',
                    slidesToShow: 1
                }
            },
            {
                breakpoint: 768,
                settings: {
                    centerPadding: '0px',
                    slidesToShow: 1
                }
            },
            {
                breakpoint: 480,
                settings: {
                    arrows: false,
                    centerMode: true,
                    centerPadding: '0px',
                    slidesToShow: 1
                }
            }
        ]
    });
});

var element = Number("0");
$('.roadmap_slider_item').each(function () {
  element = Number(element) + Number("1");
  $(this).find('.roadmap_number').text('0' + element);
});
})(jQuery);